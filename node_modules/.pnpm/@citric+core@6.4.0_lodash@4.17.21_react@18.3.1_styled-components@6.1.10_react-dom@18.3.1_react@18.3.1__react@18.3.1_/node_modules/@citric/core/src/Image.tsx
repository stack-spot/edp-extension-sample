import { Property } from 'csstype'
import { extendStyle, overwriteStyle, SxProp } from './component-style'
import { styled } from './styled'
import { OneOfRadius } from './theme-types'
import { defaultConfig } from './utils/config'
import { getRadius } from './utils/theme'

export interface Props {
  sx?: SxProp,
  objectFit?: Property.ObjectFit,
  radius?: OneOfRadius,
}

const Image = styled.img.withConfig(defaultConfig) <Props>`
  box-sizing: border-box;
  max-width: 100%;
  vertical-align: middle;

  ${extendStyle('Image')};

  object-fit: ${(props: Props) => props?.objectFit};
  border-radius: ${({ theme, radius }) => radius && getRadius(theme, radius)};

  ${overwriteStyle('Image')};
`

export default Image
