import { Property } from 'csstype'
import { extendStyle, overwriteStyle, SxProp } from './component-style'
import { AsProp } from './forward-ref-as'
import { styled } from './styled'
import { sx, SxProperties } from './sx'
import { defaultConfig } from './utils/config'
import { handleSxAliasProps, SxAliasProps } from './utils/sx-props'

export interface Props extends SxAliasProps {
  as?: AsProp,
  sx?: SxProp,
  width?: SxProperties['width'],
  flexGrow?: Property.FlexGrow,
  textAlign?: Property.TextAlign,
}

const Box = styled.div.withConfig(defaultConfig) <Props>`
  margin: 0;
  padding: 0;
  box-sizing: border-box;

  text-align: ${(props: Props) => props?.textAlign};
  flex-grow: ${(props: Props) => props?.flexGrow};


  ${extendStyle('Box')};
  ${({ theme, width }) => sx(theme, { width })};

  ${handleSxAliasProps};

  ${overwriteStyle('Box')};
`

export default Box
