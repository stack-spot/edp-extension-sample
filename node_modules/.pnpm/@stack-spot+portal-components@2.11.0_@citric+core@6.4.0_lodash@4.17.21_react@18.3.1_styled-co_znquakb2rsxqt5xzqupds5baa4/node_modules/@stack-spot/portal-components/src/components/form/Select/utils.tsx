import { Text } from '@citric/core'
import { AccessibleLabel, GenericAccessibleLabel } from './types'

export function parseLabel(label: AccessibleLabel): GenericAccessibleLabel {
  if (typeof label === 'string') {
    return {
      option: <Text>{label}</Text>,
      text: label,
      selected: <Text className="clipped-text">{label}</Text>,
    }
  }
  if ('title' in label) {
    return {
      option: (
        <div className="detailed">
          {label.image && <div className="image">{label.image}</div>}
          <div className="text-content">
            <Text className="title">{label.title}</Text>
            {label.description && <Text className="description" appearance="microtext1">{label.description}</Text>}
          </div>
        </div>
      ),
      text: `${label.title}: ${label.description}`,
      selected: <Text className="clipped-text">{label.title}</Text>,
    }
  }
  return label
}
