import { Skeleton } from '@citric/ui'
import { Suspense, lazy } from 'react'
import { Components } from 'react-markdown'
import { MarkdownButton } from './MarkdownButton'

const Markdown = lazy(() => import('./Markdown'))

interface Props {
  children: string,
  language?: string,
  components?: Components,
}

const LazyMarkdown = ({ children, components }: Props) => (
  <Suspense fallback={<Skeleton />}>
    <Markdown components={components}>{children}</Markdown>
  </Suspense>
)

export { LazyMarkdown, MarkdownButton }

