import type { JestConfigWithTsJest } from 'ts-jest'

const jestConfig: JestConfigWithTsJest = {
  preset: 'ts-jest',
  testEnvironment: 'jsdom',
  prettierPath: null,
  setupFilesAfterEnv: ['@testing-library/jest-dom'],
  setupFiles: ['jest-canvas-mock'],
  testMatch: ['**/test/**/?(*.)+(spec).[jt]s?(x)'],
  globals: {
    'ts-jest': {
      isolatedModules: true,
    },
  },
  moduleNameMapper: {
    '@citric/core/dist/(.*)$': ['<rootDir>/../core/src/$1'],
    '@citric/core$': ['<rootDir>/../core/src'],
    '@citric/icons/dist/(.*)$': ['<rootDir>/../icons/src/$1'],
    '@citric/icons$': ['<rootDir>/../icons/src'],
  },
}

export default jestConfig
