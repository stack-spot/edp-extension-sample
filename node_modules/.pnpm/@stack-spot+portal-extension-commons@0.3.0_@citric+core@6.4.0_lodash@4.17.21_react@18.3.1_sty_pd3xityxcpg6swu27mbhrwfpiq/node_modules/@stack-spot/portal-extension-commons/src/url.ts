import { ThemeName, getThemeName } from '@stack-spot/portal-theme'
import { Language, getLanguage } from '@stack-spot/portal-translate'

export function extractConfigFromUrl() {
  const url = new URL(location.href)
  const language = url.searchParams.get('language') as Language | null
  const theme = url.searchParams.get('theme') as ThemeName | null
  return { language, theme }
}

export function addConfigToUrl(url: URL) {
  url.searchParams.set('language', getLanguage())
  url.searchParams.set('theme', getThemeName())
  return `${url.origin}${url.pathname}${url.hash}${url.search}`
}
